@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 10, 10, 20;
  --background-end-rgb: 15, 15, 30;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
    to bottom,
    rgb(var(--background-start-rgb)),
    rgb(var(--background-end-rgb))
  );
  min-height: 100vh;
}

/* Safe area padding for iPhone notch/Dynamic Island/home indicator */
.safe-area-pt {
  padding-top: env(safe-area-inset-top, 0px);
}
.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
.safe-area-top {
  top: env(safe-area-inset-top, 0px);
}

/* Main content padding that accounts for header + safe area */
.main-content-pt {
  padding-top: calc(3.5rem + env(safe-area-inset-top, 0px)); /* h-14 = 3.5rem */
}
@media (min-width: 640px) {
  .main-content-pt {
    padding-top: calc(4rem + env(safe-area-inset-top, 0px)); /* h-16 = 4rem */
  }
}

/* Hide scrollbar for horizontal scroll areas */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Leaflet map overrides */
.leaflet-container {
  background: #0a0a14 !important;
  font-family: inherit;
}

.leaflet-popup-content-wrapper {
  background: rgba(20, 20, 35, 0.95);
  color: white;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

.leaflet-popup-tip {
  background: rgba(20, 20, 35, 0.95);
}

.leaflet-popup-close-button {
  color: white !important;
}

/* Custom map marker - remove Leaflet's default marker styling */
.custom-div-marker {
  background: transparent !important;
  border: none !important;
  width: 36px !important;
  height: 36px !important;
  margin-left: -18px !important;
  margin-top: -18px !important;
}

.leaflet-marker-icon.custom-div-marker {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  width: 36px !important;
  height: 36px !important;
}

/* Force marker inner div to be a perfect circle */
.custom-div-marker > div {
  width: 36px !important;
  height: 36px !important;
  min-width: 36px !important;
  min-height: 36px !important;
  max-width: 36px !important;
  max-height: 36px !important;
  aspect-ratio: 1 / 1 !important;
  border-radius: 50% !important;
  flex-shrink: 0 !important;
}

/* Hide Leaflet's default marker shadow */
.leaflet-marker-shadow {
  display: none !important;
}

/* More aggressive marker icon overrides */
.leaflet-marker-icon {
  background-image: none !important;
}

.leaflet-marker-icon.custom-div-marker,
.leaflet-marker-icon.custom-div-marker * {
  background-image: none !important;
  border-image: none !important;
}

/* Prevent any default Leaflet icon from showing */
.leaflet-default-icon-path {
  display: none !important;
}

/* Override any marker pane defaults */
.leaflet-marker-pane .leaflet-marker-icon:not(.custom-div-marker) {
  display: none !important;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(91, 99, 241, 0.3); }
  50% { box-shadow: 0 0 40px rgba(91, 99, 241, 0.6); }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out forwards;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Starfield background */
.starfield {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: -1;
}

.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0.5;
  animation: twinkle var(--duration, 3s) ease-in-out infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

/* Glass morphism card */
.glass-card {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  overflow: hidden;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.glass-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.12);
}

/* Prevent text overflow on mobile */
.prose, .prose-invert {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
}

/* Global mobile text overflow prevention */
@media (max-width: 640px) {
  article, section, div, p {
    max-width: 100%;
    overflow-wrap: break-word;
    word-wrap: break-word;
  }

  /* Ensure long URLs/text break */
  a, span {
    word-break: break-word;
  }
}

/* Category badges */
.badge-ufo { @apply bg-green-500/20 text-green-400 border-green-500/30; }
.badge-cryptid { @apply bg-amber-500/20 text-amber-400 border-amber-500/30; }
.badge-ghost { @apply bg-purple-500/20 text-purple-400 border-purple-500/30; }
.badge-unexplained { @apply bg-red-500/20 text-red-400 border-red-500/30; }
.badge-psychic { @apply bg-blue-500/20 text-blue-400 border-blue-500/30; }
.badge-location { @apply bg-teal-500/20 text-teal-400 border-teal-500/30; }

/* Form inputs */
input, textarea, select {
  @apply bg-white/5 border border-white/10 rounded-lg px-4 py-2.5 text-white placeholder-gray-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors;
}

input:disabled, textarea:disabled, select:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Buttons */
.btn {
  @apply px-4 py-2.5 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2;
}

.btn-primary {
  @apply bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-500/25;
}

.btn-secondary {
  @apply bg-white/10 hover:bg-white/15 text-white;
}

.btn-ghost {
  @apply hover:bg-white/10 text-gray-300 hover:text-white;
}

/* Loading skeleton */
.skeleton {
  @apply bg-white/5 rounded animate-pulse;
}
